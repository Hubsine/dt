{% trans_default_domain 'FOSUserBundle' %}

{% import _self as macros %}

{% macro sectionFormButton(section) %}
    <div>
        <button 
            data-action="{{ section.path }}" 
            data-section-data="{{ section|json_encode() }}"
            class="updateFormToUpdateInAjax pull-right btn btn-danger">
            {% trans %} layout.update {% endtrans %}
        </button>
    </div>
{% endmacro sectionFormButton %}

{% macro userPassword() %}
<table class="table table-condensed">
    <tbody> 
        <tr> 
            <th scope="row">{% trans %} layout.user_password {% endtrans %}</th> 
            <td>{{ 'security.hidden'|trans }}</td> 
        </tr> 
    </tbody>
</table>
{% endmacro userPassword %}

{% macro userEmail() %}
<table class="table table-condensed">
    <tbody> 
        <tr> 
            <th scope="row">{% trans %} layout.email {% endtrans %}</th> 
            <td>{{ app.user.email }}</td> 
        </tr> 
    </tbody>
</table>
{% endmacro userEmail %}

{{ attribute(macros, sectionData.view) }}
{{ macros.sectionFormButton(sectionData) }}
